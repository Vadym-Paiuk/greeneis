@import "../base/_mixins.scss";
@import "../base/_variables.scss";
@import "../base/_colors.scss";

.header {
   position: fixed;
   z-index: 50;
   top: 0;
   left: 0;
   width: 100%;

   min-height: rem(112);
   transition: $transition-all-linear;

   &.fixed {
      background-color: $black_bg;
      box-shadow: 0 0 rem(4) rem(1) rgba($color: $orange, $alpha: 0.4);
   }

   &__inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: rem(80);

      padding-block: rem(16);
   }

   &__logo {
      a {
         display: block;
         img {
            width: rem(88);
            object-fit: cover;
         }
      }
   }

   &__menu {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: rem(60);
      flex: 1 1 auto;

      nav {
         & > ul {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            column-gap: rem(32);
            row-gap: rem(10);
         }
         li {
            position: relative;
            &.menu-item-has-children {
               padding-bottom: rem(5);
               margin-bottom: rem(-5);
               & > a {
                  padding-right: rem(16);
                  position: relative;

                  &::before,
                  &::after {
                     content: "";
                     position: absolute;
                     background-color: $white;
                     transition: $transition-all-linear;
                  }
                  &::before {
                     top: 50%;
                     right: rem(3);
                     transform: translateY(-50%);

                     height: rem(8);
                     width: rem(2);
                  }
                  &::after {
                     top: calc(50% - rem(1));
                     right: 0;
                     width: rem(8);
                     height: rem(2);
                  }
                  @media (any-hover: hover) {
                     &:hover {
                        color: $orange;
                        &::before,
                        &::after {
                           background-color: $orange;
                        }
                     }
                  }
               }
            }
            .sub-menu {
               background-color: $white;
               box-shadow: 0 0 rem(6) rem(1) rgba($color: $black_bg, $alpha: 0.3);

               position: absolute;
               top: 100%;
               left: 0;
               width: 100%;
               min-width: rem(100);

               display: flex;
               flex-direction: column;
               gap: rem(5);
               padding-inline: rem(4);
               padding-block: rem(6);

               transform: translateY(rem(-5));
               opacity: 0;
               visibility: hidden;
               pointer-events: none;

               transition: $transition-all-linear;

               a {
                  color: $black;
                  text-transform: initial;

                  @media (any-hover: hover) {
                     &:hover {
                        color: $orange;
                        &::before,
                        &::after {
                           background-color: $orange;
                        }
                     }
                  }
               }
            }

            @media (any-hover: hover) {
               &:hover {
                  .sub-menu {
                     opacity: 1;
                     visibility: visible;
                     pointer-events: all;
                     transform: translateY(0);
                  }
               }
            }
            &:focus-within {
               .sub-menu {
                  opacity: 1;
                  visibility: visible;
                  pointer-events: all;
                  transform: translateY(0);
               }
            }
         }
         a {
            text-transform: uppercase;
            color: $white;
            transition: $transition-all-linear;
            letter-spacing: 0.02em;
            @media (any-hover: hover) {
               &:hover {
                  color: $orange;
               }
            }
         }
      }
   }
}
